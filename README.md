# IIPLのホームページ制作
開発に必要な情報を記載しています

## 目次
- 環境構築
- ブランチ分け
- コミットメッセージ

## 環境構築
Dockerとdocker-composeを使ってマイクロサービス化した環境を構築しています．  
開発を始める時はDockerのアプリを起動した状態でルートディレクトリ上で以下のコマンドを実行してください．   
`docker-compose up`  
全てのコンテナが立ち上げるまでしばらく時間がかかります．  

### コンテナの構成
| サービス名      | image                  | 役割                                       | 
| --------------- | ---------------------- | ------------------------------------------ | 
| web-back        | golang:1.20.4-bullseye | Goを使ってバックエンドの処理を行う         | 
| backend-server  | nginx:1.17.4-alpine    | バックエンドに対するリクエストを処理する   | 
| db              | mysql:8.0.36           | MySQLのデータベースを立ち上げる            | 
| phpmyadmin      | phpmyadmin             | SQLの内部をGUIで確認する                   | 
| web-front       | node                   | Typescriptでフロントエンドの処理を行う     | 
| frontend-server | nginx:1.17.4-alpine    | フロントエンドに対するリクエストを処理する | 　　

詳細は[ymlファイル](https://github.com/iiplDoshisha/iiplHP/blob/main/docker-compose.yml)を参照してください．

## ブランチ分け
ブランチを作ってプッシュを行う流れは[このサイト](https://qiita.com/shungo_m/items/4bbcbcbd3d7aea40b21e)を参考にしてください．  
リモートブランチの構成は以下の通りです．　　

| ブランチ名 | 役割                                 | 派生元  | 
| ---------- | ------------------------------------ | ------- | 
| main       | メインブランチ                       |         | 
| develop    | 開発作業におけるメインとなるブランチ | main    | 
| backend    | バックエンドの開発用ブランチ         | develop | 
| frontend   | フロントエンドの開発ブランチ         | develop | 
| release    | リリース時の微調整を行うブランチ     | develop | 　　

作業をする際には１つの機能を作るごとに自分の担当領域のブランチ(backend or frontend)から派生したfeatureブランチをローカルに作ってください．  
命名については`feature/[担当領域(backend or frontend)]/(機能名)`のようにしてください  
例えばバックエンドでデータベースからuser_idを取得するAPIを作った場合は`feature/backend/add_api_get_user_id_`  
フロントエンドで表のコンポーネントを作った場合は`feature/frontend/add_table_component`というような感じです．  
基本的に命名する時には動詞＿名詞という順番にしてください．  

## コミットメッセージ
１つの機能を作るときにまず最初のプルリクエストを出します．  
この後はプルリクストに対して誰かから来た修正項目を確認しつつ，修正を行なっていきます．  
修正をする際には修正項目１つが終わるたびにこまめにコミットメッセージを書いて修正内容をpushするようにしてください．  
コミットメッセージの先頭には以下の表を参考にプレフィックスをつけてください．  
| プレフィックス | 意味                                     | 
| -------------- | ---------------------------------------- | 
| feat           | 新しい機能の追加                         | 
| fix            | バグ等の修正                             | 
| docs           | コメントアウトなどコード以外の部分の修正 | 
| refactor       | 動作に影響のないコードの書き方の改善     |  

例えばプルリクエストに来ていた関数名に対する修正を１つ行なった時は`fix:〜の関数名を〜に変更`  
というように簡潔に作業内容を書いてください．

